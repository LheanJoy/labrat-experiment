<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="images/favicon-32x32.png" type="image/png">
  <title>Lab Rat Experiment: The Scientific Method Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Link to your CSS (adjust the path as needed) -->
  <link rel="stylesheet" href="styles.css">

  <!-- Firebase SDKs -->
  <!-- Firebase App (the core Firebase SDK) -->
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"></script>
  <!-- Firebase Authentication -->
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js"></script>
  
  <style>
    /* Base Reset */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      display: flex;
      flex-direction: column;
      font-family: Arial, sans-serif;
      background: #fff;
      background-size: cover;
    }
    main {
      flex: 1;
      padding: 20px;
    }
    footer {
      text-align: center;
      padding: 15px;
      color: #fff;
      background: linear-gradient(to right, #8806CE, #d6b4fc);
    }
    /* FEATURE HIGHLIGHT SECTION */
    .gradient-container {
      background: linear-gradient(to right, #8806CE, #d6b4fc);
      padding: 40px;
      border-radius: 8px;
      margin: 20px 0;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .feature-image {
      flex: 1;
    }
    .feature-image img {
      width: 100%;
      max-width: 500px;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }
    .feature-image img:hover {
      transform: scale(1.05);
    }
    .feature-description {
      flex: 1;
      padding: 20px;
    }
    .feature-description h2 {
      margin-bottom: 15px;
      font-size: 2em;
    }
    .feature-description p {
      font-size: 1.1em;
      line-height: 1.5;
    }
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .nav-list {
        padding-right: 0;
        flex-direction: column;
        align-items: center;
      }
      #hero h1 {
        font-size: 2em;
      }
      #hero p {
        font-size: 1em;
      }
      .gradient-container {
        flex-direction: column;
        text-align: center;
      }
      .feature-image img {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>

  <!-- HEADER & NAVIGATION -->
  <header>
    <nav class="main-nav">
      <div class="logo">
        <a href="index.html">
          <img src="images/logo.png" alt="Lab Rat Experiment Logo">
          <span class="visually-hidden">Lab Rat Experiment</span>
        </a>
      </div>
      <ul class="nav-list">
         <li><a href="index.html" class="active">Home</a></li>
         <li><a href="about.html">About</a></li>
         <li><a href="game.html">Game</a></li>
         <li id="leaderboard-link" class="hidden"><a href="leaderboard.html">Leaderboard</a></li>
         
         <li><a href="contact.html">Contact Us</a></li>
      </ul>
      <div class="account-nav">
        <button id="account-button">Account ▼</button>
        <ul class="dropdown" id="account-dropdown">
             <li id="profile-link" class="hidden"><a href="profile.html">Profile</a></li>
             <li id="logout-link" class="hidden"><a href="#" id="logout-button">Logout</a></li>
             <li id="login-link"><a href="login.html">Login</a></li>
             <li id="signup-link"><a href="register.html">Sign Up</a></li>
        </ul>
     </div>
    </nav>
  </header>
  
  <!-- MAIN CONTENT -->
  <main>
    <!-- HERO SECTION -->
    <section id="hero">
       <h1>Welcome to Lab Rat Experiment</h1>
       <p>Immerse yourself in an interactive lab environment where science and puzzles merge into a groundbreaking adventure!</p>
       <a href="https://drive.usercontent.google.com/download?id=1-4KlWyrcMIBjJ4pVlNY2OquWlMndm1Cy&export=download&authuser=0&fbclid=IwY2xjawKTeFxleHRuA2FlbQIxMABicmlkETEzZzRJbkROSFA4cmVvM3JiAR7n-LoiF74TFsfzmjbicFOfH8AdpSI35YVxBAbD7XY9Ws0ALrN4RofzwLS1Bw_aem_jNdvFus1ELvUCo50i7ZMqA" class="btn">Play Now</a>
    </section>
    
    <!-- FEATURE HIGHLIGHT SECTION -->
    <section id="feature-highlight" class="gradient-container">
       <div class="feature-image">
          <img src="images/env.jpg" alt="Immersive Lab Environment">
       </div>
       <div class="feature-description">
          <h2>Experience the Ultimate Lab</h2>
          <p>
             Delve into an interactive scientific environment with impactful visuals and challenging puzzles that spark your curiosity and ignite your passion for discovery.
          </p>
       </div>
    </section>

    <!-- SECOND FEATURE HIGHLIGHT -->
    <section id="feature-highlight-2" class="gradient-container">
       <div class="feature-description">
          <h2>Unlock Hidden Insights</h2>
          <p>
             Discover revolutionary features that empower you with even more control and interaction to innovate like never before.
          </p>
       </div>
       <div class="feature-image">
          <img src="images/ei.jpg" alt="Unlock Hidden Insights">
       </div>
    </section>

    <!-- THIRD FEATURE HIGHLIGHT -->
    <section id="feature-highlight-3" class="gradient-container">
       <div class="feature-image">
          <img src="images/uhi.jpg" alt="Empower Innovation">
       </div>
       <div class="feature-description">
          <h2>Empower Innovation</h2>
          <p>
             Push the boundaries of conventional experimentation with our cutting-edge tools designed to transform your ideas into reality.
          </p>
       </div>
    </section>
  </main>
  
  <!-- FOOTER -->
  <footer>
     <p>&copy; 2025 Lab Rat Experiment. All rights reserved.</p>
  </footer>
  
  <!-- Firebase Initialization & Authentication Handling -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";

  // Firebase configuration object
  const firebaseConfig = {
    apiKey: "AIzaSyB4nNmRWksPDQluiW2R1vi-RkWfPo9KUtI",
    authDomain: "lab-rat-experiment.firebaseapp.com",
    projectId: "lab-rat-experiment",
    storageBucket: "lab-rat-experiment.firebasestorage.app",
    messagingSenderId: "1005490252081",
    appId: "1:1005490252081:web:0b6ecb6f448f728f212810"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // Monitor authentication state
  onAuthStateChanged(auth, (user) => {
    if (user) {
      console.log("User signed in:", user);
      // Use the displayName if available, or fallback to the prefix of the email
      const username = user.displayName ? user.displayName : (user.email ? user.email.split('@')[0] : "User");
      document.getElementById("account-button").textContent = username + " ▼";

      // Show profile and logout links for logged-in users
      document.getElementById("profile-link").style.display = "block";
      document.getElementById("logout-link").style.display = "block";

      // Hide login and signup links
      document.getElementById("login-link").style.display = "none";
      document.getElementById("signup-link").style.display = "none";

      // Optionally show leaderboard
      document.getElementById("leaderboard-link").style.display = "block";

      // If the user's email ends with ".edu.ph", show the room link (otherwise hide it)
      if (user.email.endsWith(".edu.ph")) {
        document.getElementById("room-link").style.display = "block";
      } else {
        document.getElementById("room-link").style.display = "none";
      }
    } else {
      // When no user is signed in, hide profile/logout and show login/signup
      document.getElementById("profile-link").style.display = "none";
      document.getElementById("logout-link").style.display = "none";
      document.getElementById("leaderboard-link").style.display = "none";
      document.getElementById("room-link").style.display = "none";

      document.getElementById("login-link").style.display = "block";
      document.getElementById("signup-link").style.display = "block";
    }
  });

  // Log out functionality (using the same logout-link element)
  document.getElementById("logout-link").addEventListener("click", (e) => {
    e.preventDefault();
    signOut(auth)
      .then(() => {
        console.log("User signed out.");
      })
      .catch((error) => {
        console.error("Error signing out:", error);
      });
  });
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const accountButton = document.getElementById("account-button");
  const accountDropdown = document.getElementById("account-dropdown");

  accountButton.addEventListener("click", function(e) {
    e.stopPropagation();
    // Only toggle the dropdown if "Profile" and "Logout" are visible (i.e. the user is logged in)
    if (
      document.getElementById("profile-link").style.display === "block" &&
      document.getElementById("logout-link").style.display === "block"
    ) {
      accountDropdown.style.display = (accountDropdown.style.display === "block") ? "none" : "block";
    }
  });

  // Hide dropdown when clicking outside
  document.addEventListener("click", function() {
    accountDropdown.style.display = "none";
  });
});
</script>

  <script src="api.js"></script>
</body>
</html>
